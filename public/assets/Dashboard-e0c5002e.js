import{d as y,r as l,w as O,a as g,o as b,c as m,b as k,_ as v,e as i,f as x,t as S,g as o,u as M,s as j,h as w,i as r}from"./app-4f42dbc1.js";const R=y({__name:"ChartStats",props:{chartsData:{required:!0},typeOptions:{type:String,required:!0,default:"options-1"},typeChart:{required:!0,default:"line"}},setup(a){const e=a,t=l(0),s=l({}),u=l({}),d=l({plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}),p=l({plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}),h=l({maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1,drawTicks:!1},ticks:{display:!1}},y:{grid:{display:!1,drawBorder:!1,drawTicks:!1},ticks:{display:!1}}}}),C=()=>e.typeOptions==="options-1"?d.value:e.typeOptions==="options-2"?p.value:e.typeOptions==="options-3"?h.value:d.value,c=()=>e.typeOptions==="options-1"?{labels:[],datasets:[{label:"",backgroundColor:"rgba(151, 187, 205, 0.2)",borderColor:"rgba(151, 187, 205, 1)",pointBackgroundColor:"rgba(151, 187, 205, 1)",pointBorderColor:"#fff",data:[]}]}:e.typeOptions==="options-2"?{labels:[],datasets:[{label:"",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[],fill:!0}]}:e.typeOptions==="options-3"?{labels:[],datasets:[{label:"",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[],barPercentage:.6}]}:{labels:[],datasets:[{label:"",backgroundColor:"rgba(151, 187, 205, 0.2)",borderColor:"rgba(151, 187, 205, 1)",pointBackgroundColor:"rgba(151, 187, 205, 1)",pointBorderColor:"#fff",data:[]}]};return O(()=>e.chartsData,(n,_)=>{n!==_&&(u.value=C(),s.value=c(),s.value.labels=n.label,s.value.datasets[0].label=n.value_label,s.value.datasets[0].data=n.value,t.value+=1)}),(n,_)=>{const D=g("CChart");return t.value!==0?(b(),m(D,{key:t.value,type:a.typeChart,class:"mt-3 mx-3",style:{height:"70px"},data:s.value,options:u.value},null,8,["type","data","options"])):k("v-if",!0)}}}),q=v(R,[["__file","C:/OSPanel/domains/tgMailer/resources/js/components/statistics/ChartStats.vue"]]),B=y({__name:"WidgetStats",props:{color:{type:String,required:!0},title:{type:String,required:!0},chartsData:{required:!0},typeOptions:{type:String,required:!0,default:"options-1"},typeChart:{type:String,required:!0,default:"line"},counter:{type:Number,default:0}},setup(a){return(e,t)=>{const s=g("CWidgetStatsA");return b(),m(s,{class:"mb-3",color:a.color},{value:i(()=>[x(S(a.counter),1)]),title:i(()=>[x(S(a.title),1)]),chart:i(()=>[o(q,{"type-options":a.typeOptions,"charts-data":a.chartsData,"type-chart":a.typeChart},null,8,["type-options","charts-data","type-chart"])]),_:1},8,["color"])}}}),f=v(B,[["__file","C:/OSPanel/domains/tgMailer/resources/js/components/statistics/WidgetStats.vue"]]),P=y({__name:"Dashboard",setup(a){const e=M(),{item:t}=j(e),s=l({}),u=l({}),d=l({}),p=l({});return w(async()=>{s.value=await e.getItem("statistics").then(async()=>Promise.resolve({label:Object.keys(t.value.botStatistics),value_label:"Количество ботов",value:Object.values(t.value.botStatistics)})),u.value=await e.getItem("statistics").then(async()=>Promise.resolve({label:Object.keys(t.value.mailingsStatistics),value_label:"Количество рассылок",value:Object.values(t.value.mailingsStatistics)})),d.value=await e.getItem("statistics").then(async()=>Promise.resolve({label:Object.keys(t.value.completedMailingsStatistics),value_label:"Количество выполненных рассылок",value:Object.values(t.value.completedMailingsStatistics)})),p.value=await e.getItem("statistics").then(async()=>Promise.resolve({label:Object.keys(t.value.failedMailingsStatistics),value_label:"Количество неудачных рассылок",value:Object.values(t.value.failedMailingsStatistics)}))}),(h,C)=>{const c=g("CCol"),n=g("CRow");return b(),m(n,null,{default:i(()=>[o(c,{xs:12,sm:6,md:6,lg:4,xl:4,xxl:3},{default:i(()=>[o(f,{color:"primary",title:"Боты","type-options":"options-1","type-chart":"line",chartsData:s.value,counter:r(t)?r(t).botsCounter:0},null,8,["chartsData","counter"])]),_:1}),o(c,{xs:12,sm:6,md:6,lg:4,xl:4,xxl:3},{default:i(()=>[o(f,{color:"info",title:"Рассылки","type-options":"options-1","type-chart":"line",chartsData:u.value,counter:r(t)?r(t).mailingsCounter:0},null,8,["chartsData","counter"])]),_:1}),o(c,{xs:12,sm:6,md:6,lg:4,xl:4,xxl:3},{default:i(()=>[o(f,{color:"warning",title:"Выполненные рассылки","type-options":"options-2","type-chart":"line",chartsData:d.value,counter:r(t)?r(t).completedMailingsCounter:0},null,8,["chartsData","counter"])]),_:1}),o(c,{xs:12,sm:6,md:6,lg:4,xl:4,xxl:3},{default:i(()=>[o(f,{color:"danger",title:"Неудачные рассылки","type-options":"options-3","type-chart":"bar",chartsData:p.value,counter:r(t)?r(t).failedMailingsCounter:0},null,8,["chartsData","counter"])]),_:1})]),_:1})}}}),A=v(P,[["__file","C:/OSPanel/domains/tgMailer/resources/js/pages/Dashboard.vue"]]);export{A as default};
